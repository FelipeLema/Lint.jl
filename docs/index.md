# Lint.jl

[Lint.jl](https://github.com/tonyhffong/Lint.jl) is a tool to hunt for imperfections and dodgy structures that could be improved.


## Installation

Lint.jl can be installed through the Julia package manager:
```julia
Pkg.add("Lint")
```


## What can it find?
* simple deadcode detection (e.g if true/false)
* simple premature-return deadcode detection
* Bitwise `&`, `|` being used in a Bool context. Suggest `&&` and `||`
* Declared but unused variables or arguments. Overruled by adding the no-op statement `@lintpragma("Ignore unused [variable name]")`
  just before the warning line.
* Using an undefined variable
* Duplicate key as in `[:a=>1, :b=>2, :a=>3]`
* Mixed types in uniform dictionary `[:a=>1, :b=>""]` (ERROR)
* Uniform types in mixed dictionary `{:a=>1, :b=>2}` (performance INFO)
* Exporting non-existing symbols (However, it cannot catch symbols generated by macros)
* Exporting the same symbol more than once
* Name overlap between a variable and a lambda argument
* Implicitly-local (local keyword not provided, but neither is global)
  variable assignment that looks like it should be a global variable
  binding, if the name is long enough
* Assignment in an if-predicate, as a potential confusion with `==`
* warn `length()` being used as Bool, suggest `!isempty()`
* Out-of-scope local variable name being reused again inside the same code block. (legal but frowned upon)
* Function arguments being Container on non-leaf type e.g. `f(x::Array{Number,1})`. Suggest `f{T<:Number}(x::Array{T,1})`
* Concatenation of strings using `+`. It also catches common string functions, e.g. `string(...) + replace(...)`
* Iteration over an apparent dictionary using only one variable instead of (k,v) tuple
* Incorrect ADT usage in function definition, e.g. `f{Int}(x::Int)`, `f{T<:Int64}(x::T)`, `f{Int<:Real}(x::Int)`
* Suspicious range literals e.g. `10:1` when it probably should be `10:-1:1`
* Understandable but actually non-existent constructors e.g. String(), Symbol()
* Redefining mathematical constants, such as `e = 2.718`
* Illegal `using` statement inside a function definition
* Repeated function arguments e.g. `f(x,y,x)`
* Wrong usage of ellipsis in function arguments e.g. `f(x, y... , z...)`
* Wrong usage of default value in function arguments e.g. `f(x=1, y)`
* Named arguments without default value e.g. `f(x; y, q=1)`
* Code extending deprecated functions, as defined in deprecated.jl (Base)
* Mispelled constructor function name (when it calls `new(...)` inside)
* Constructor forgetting to return the constructed object
* calling new() with the number of arguments different from the number of fields.
* Rudimentary type instability warnings e.g. `a = 1` then followed by `a = 2.0`. Overruled using a no-op statement
  `@lintpragma("Ignore unstable type variable [variable name]")` just before the warning.
* Incompatible type assertion and assignment e.g. `a::Int = 1.0`
* Incompatible tuple assignment sizes e.g. `(a,b) = (1,2,3)`
* Flatten behavior of nested vcat e.g. `[[1,2],[3,4]]`
* Loop over a single number. e.g. `for i=1 end`
* More indices than dimensions in an array lookup
* Look up a dictionary with the wrong key type, if the key's type can be inferred.
* assign to a variable that happens to have the same name as the host function.
* Inform upcoming 0.3->0.4 changes in Dictionary and Array construction
* Warn [1 :end], or [end -1]
* If the first statement in a true branch of an if-statement is proven to be a boolean expression,
  warn for potentially missing `||` or `&&`
* A type field with undeclared type or array type without dimension (performance INFO)
* Constant global without assigning a value to it.
* Staged function: catch one forgetting that the arguments are all types. Inform unused arguments in both the
  staged function's logic as well as the quoted code.
* Catch silly curly bracket misuse/abuse e.g. Dict{:Symbol, Any}
* Understands and checks basic `@doc`
* Catch assigning `a.b = something` when `a` is proven to be of an immutable type, e.g. `Complex`
* Follow VERSION if-statements to properly lint based on version-appropriate standard
